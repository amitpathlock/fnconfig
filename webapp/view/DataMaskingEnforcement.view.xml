<mvc:View
	controllerName="pl.dac.apps.fnconfig.controller.DataMaskingEnforcement"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
	displayBlock="true"
	height="100%"
    xmlns:core="sap.ui.core"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"

	busyIndicatorDelay="0"
>
    <!-- @ui5ignore -->
    <Page  >
        <customHeader>
            <Toolbar design="Transparent" class="plDacToolbar">
                <core:Icon src="sap-icon://hide" />
                <Title text="{i18n>titPolInforcementDataMasking}"/>
                <ToolbarSpacer/>
                <!-- @ui5ignore -->
                <OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" tooltip="Enter Full Screen Mode" visible="{viewModel>/FullScreen}"/>
                <!-- @ui5ignore -->
                <OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" tooltip="Exit Full Screen Mode" visible="{viewModel>/ExitFullScreen}"/>
            </Toolbar>
        </customHeader>
        <content>
            <!-- @ui5ignore -->
            <smartFilterBar:SmartFilterBar id="smartFilterBar-polInforcementMasking"
               enableBasicSearch="true"
                entitySet="DataMaskingEnforcementSet"
                persistencyKey="SmartFilter_Explored"
            />
            <!-- @ui5ignore -->
            <smartTable:SmartTable 
            id="idSmartTableDataMaskingEnforcement"
             
                entitySet="DataMaskingEnforcementSet"
                 smartFilterId="smartFilterBar-polInforcementMasking"
                tableType="ResponsiveTable"
                header="{i18n>txtSmartTableHeaderPolicyEnforcementDataMasking}"
                persistencyKey="SmartTableAnalytical_Explored"
                enableAutoBinding="true"
                demandPopin="true"
                class="sapUiResponsiveContentPadding"
                requestAtLeastFields="Policy,PolicyResult,IsActive,AttributeId"
                beforeRebindTable="onBeforeRebindTable"
               placeToolbarInTable="true"
               showTablePersonalisation="false"
              beforeExport="onBeforePEPDataMaskingExport"
            >
            <!-- @ui5ignore -->
                <Table mode="SingleSelectLeft" id="idTableDataMaskingEnforcement" 
                    selectionChange="onTableSelectionChange"
                    sticky="ColumnHeaders,HeaderToolbar" alternateRowColors="true"
                   growingScrollToLoad="true" growing="true" 
                >
                    <!-- Header -->
                    <columns>
                        <Column  width="43%" hAlign="Left">
                            <customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "PolicyName", "sortProperty": "Policy", "columnIndex":"0","navigationProperty":"to_Policy",  "leadingProperty": "to_Policy/PolicyName"}'/>
                               
                            </customData>
                            	                                 <Text text="{i18n>txtPolName}" class="sapUiSmallMarginEnd" />
                                
                           
                        </Column>
                        <Column width="40%" >
                            <customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "AttributeId","sortProperty": "AttributeId", "columnIndex":"1", "leadingProperty": "AttributeId"}'/>
                            </customData>
                                                            <Text text="{i18n>lblAttribute}" class="sapUiSmallMarginEnd" />
                                 <!-- @ui5ignore -->
                               
                        </Column>
                         <Column width="8%"  hAlign="Center">
                            <customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "PolicyResult", "columnIndex":"2", "leadingProperty": "PolicyResult"}'/>
                            </customData>
                            <Text text="{i18n>txtAction}" />
                        </Column>
                        <Column width="9%" hAlign="Center">
                            <customData>
                                 <core:CustomData key="p13nData" value='\{"columnKey": "IsActive", "columnIndex":"3", "leadingProperty": "IsActive"}'/>
                                
                            </customData>
                            <Text text="{i18n>txtStatus}" />
                        </Column>
                       
                         
                        <Column width="0px" >
                            <customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "PolicyDesc", "columnIndex":"4","navigationProperty":"to_Policy",  "leadingProperty": "to_Policy/PolicyDesc"}'/>
                            </customData>
                        </Column>
                    </columns>
                    <!-- Rows -->
                    <items>
                        <ColumnListItem>
                            <customData>
                                <core:CustomData
                                    key="PolicyName"
                                    value="{to_Policy/PolicyName}"
                                   />
                                <core:CustomData key="PolicyDesc" value="{to_Policy/PolicyDesc}" />
                            </customData>
                            <cells>
                                <ObjectHeader title="{to_Policy/PolicyName}" class="plDacObjectHeader plDacPolicyName">
                                    <ObjectAttribute class="plDacObjectAttribute" title="Description" text="{to_Policy/PolicyDesc}" />
                                    <!-- @ui5ignore -->
                                   
                                </ObjectHeader >
                                <Text text="{AttributeId}"/>
                                 <ObjectStatus  text="{=${PolicyResult}==='A'? 'Allow' :'Deny'}"  state="{=${PolicyResult}==='A'? 'Success' :'Error'}" />
                                <Switch type="AcceptReject" tooltip="{=${IsActive}?'Active':'Inactive'}" state="{=${IsActive}?true:false}" enabled="false">
                                </Switch>
                               
                                <!-- <ObjectStatus active="true" class="sapUiSmallMarginBottom plDacObjectStatus" tooltip="{=${IsActive}?'Active':'None'}" state="{=${IsActive}?'Success':'None'}" icon="{=${IsActive}?'sap-icon://lightbulb':'sap-icon://lightbulb'}" /> -->
                               
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </smartTable:SmartTable>
        </content>
    </Page>
</mvc:View>